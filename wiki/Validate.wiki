#summary The validate support by GWTENT
#labels Featured

= Using Validate =

== Add module inherited ==

Add Validate module if you only using Validation functions in GWTENT
{{{
<inherits name="com.gwtent.validate.Validate" />
}}}

Or add GwtEnt to add all modules
{{{
<inherits name="com.gwtent.GwtEnt" />
}}}

== Create you domain object for validation ==
  # Your class can inherited from any class
  # Need reflection support for this class, you can simply add "@Reflectable" or  "@Reflect_Domain" to your class
  # Add any JSR303 validate annotation to your class

For example:
{{{
	@Reflectable
	public static class ClassToValidate{	
		
	  @Required
	  @Size(min=2, max=30)
	  private String firstName;
	  
	  @Required
	  private String lastName;
	  
	  //@Regular(regex="^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\\.([a-zA-Z])+([a-zA-Z])+", message="Please input right email address.")
	  //Direct using Regular of Email annotation
	  @Email
	  private String email;

		public void setEmail(String email) {
			this.email = email;
		}

		public String getEmail() {
			return email;
		}

		public void setLastName(String lastName) {
			this.lastName = lastName;
		}

		public String getLastName() {
			return lastName;
		}

		public void setFirstName(String firstName) {
			this.firstName = firstName;
		}

		public String getFirstName() {
			return firstName;
		}
	}
}}}

= Validate it =

{{{
		void onClick(ClickEvent e) {
		//Create domain object and setup the values
		ClassToValidate obj = new ClassToValidate();
		obj.setFirstName("First Name");
		obj.setLastName(null); //
		obj.setEmail("not a good email address");
		
		//Validate it by GWT validator
		Set<ConstraintViolation<ClassToValidate>> validateResult = ValidatorFactory.getGWTValidator().validate(obj);
		
		//Display the result
		String errorMsg = "";
		for (ConstraintViolation<ClassToValidate> violation : validateResult){
			errorMsg += violation.getPropertyPath() + ":" + violation.getMessage() + " Value: " + violation.getInvalidValue() + "\n";
		}
		Window.alert(errorMsg);
	}
}}}

= The results =
{{{
email not right because it doesn't not follow the rules of a emal
lastName get error because it's "Required".

email:Email required. Value: not a good email address
lastName:This field is required. Value: null
}}}

= More Info =

See the demo source file in SVN: [http://code.google.com/p/gwt-ent/source/browse/trunk/gwtent_showcase/src/main/java//com/gwtent/showcase/client/validate/ValidateByCode.java http://code.google.com/p/gwt-ent/source/browse/trunk/gwtent_showcase/src/main/java//com/gwtent/showcase/client/validate/ValidateByCode.java]

GWTENT ShowCase: [http://gwtent-showcase.appspot.com/ http://gwtent-showcase.appspot.com/]